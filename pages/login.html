<!DOCTYPE html>
<html class="h-full" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link rel="stylesheet" href="../css/output.css" />
    <style>
      .noShow {
        display: none;
      }
      form[data-state="pending"] #spinner {
        display: inline-block !important;
      }
      form[data-state="pending"] button {
        opacity: 0.7;
      }
      .toast {
        padding: 10px;
        border-radius: 5px;
        font-size: 14px;
      }
      #toast-success {
        background-color: #e6ffe6;
      }
      #toast-warning {
        background-color: #fff3cd;
      }
      #toast-danger {
        background-color: #f8d7da;
      }
    </style>
  </head>
  <script src="../js/login.js"></script>
  <script src="js/auth.js"></script>

  <body class="bg-slate-100 h-full">
    <div class="flex items-center justify-center h-full">
      <div>
        <h1 class="text-center text-5xl font-bold mb-10">Login</h1>
        <form id="form" class="flex flex-col gap-4 w-sm">
          <div>
            <label
              for="username"
              class="block mb-2 text-sm font-medium text-gray-900"
              >Foydalanuvchi nomi*</label
            >
            <input
              placeholder="Foydalanuvchi nomini yoki emailni kiriting.."
              type="text"
              id="username"
              name="username"
              class="block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500"
              required
            />
          </div>
          <div>
            <label
              for="password"
              class="block mb-2 text-sm font-medium text-gray-900"
              >Maxfiy so'z*</label
            >
            <input
              placeholder="Maxfiy so'zni kiriting"
              type="password"
              id="password"
              name="password"
              class="block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500"
              required
            />
          </div>
          <button
            type="submit"
            class="flex items-center justify-center gap-2 text-black bg-black hover:bg-black/90 focus:ring-4 focus:outline-none focus:ring-black/50 font-medium rounded-lg text-sm px-5 py-2.5 cursor-pointer"
          >
            <svg
              aria-hidden="true"
              class="w-5 h-5 text-gray-200 animate-spin fill-white hidden"
              id="spinner"
              viewBox="0 0 100 101"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908Z"
                fill="currentColor"
              />
              <path
                d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539"
                fill="currentFill"
              />
            </svg>
            Kirish
          </button>
        </form>

        <!-- Toastlar -->
        <div id="toast-success" class="noShow text-green-600 mt-4 toast">
          ✅ <span id="succesText"></span>
        </div>
        <div id="toast-warning" class="noShow text-yellow-600 mt-4 toast">
          ⚠️ <span id="warningText"></span>
        </div>
        <div id="toast-danger" class="noShow text-red-600 mt-4 toast">
          ❌ <span id="dangerText"></span>
        </div>
      </div>
    </div>

    <script src="../node_modules/flowbite/dist/flowbite.min.js"></script>
    <script type="module" src="../js/protected.js"></script>
  </body>
</html>
